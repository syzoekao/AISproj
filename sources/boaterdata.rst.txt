.. _Data:

====
Data
====

--------------------------------
Data source of waterbodies in MN
--------------------------------

The waterbodies in Minnesota were from the MN DNR Hydrography Dataset (`<https://mnnaturalresourceatlas.org/metadata/dnr_hydro_features_all.html>`_). In total, the dataset contains about 25,000 waterbodies. In our study, we only included the type 5 lakes (*inland open fresh water*) and the lakes â‰¥ 10 acres, resulting in a total of 9,183 lakes. We constructed the boater movement networks among these 9,183 lakes. 

--------------------------------
Data source of boater movements
--------------------------------

* The boater movements in MN were constructed using the inspection data collected by the Watercraft Inspection Program between April 25, 2014 and December 01, 2017 `<https://www.dnr.state.mn.us/invasives/watercraft_inspect/index.html>`_. 
* The location and effort of watercraft inspectors is determined based on waterbody popularity, invasion status, and local requests. Therefore, inspections were only conducted in a subset of waterbodies and were not evenly distributed in time and space. 
* Inspectors interviewed boaters at public access points during the open-water seasons as the boaters entered or exited a lake. 
* For each inspection interview, the boater would answer the questions regarding the past (recalled) and future (planned) boating activity in Minnesota lakes. 

	* Therefore, for each inspection we were able to construct a directional boater movement from the past to the current water activities and from the current to the future water activities. 

	.. raw:: html

		<img src="fig/boater survey connection.png" style="width: 80%">


* We had to clean the data because the survey responses were subject to some errors. 

	* The recalled and planned activities were not always accurate. (e.g., the county and the lake names do not match)
	* The boater could refuse to answer. 

* Between April 25, 2014 and December 01, 2017, there were 1,329,259 inspections conducted among 738 type 5 lakes. 
* After data cleaning, the 738 inspected lakes resulted in a total of 1,667,494 boater movements involving 2,157 lakes across 4 years. 


--------------------------------
Adjusting for sampling bias
--------------------------------

* Inspection effort varied from lake to lake. 
	
	* Some lakes with few inspection hours had a high number of inspections. 
	* Lakes with more access points are likely to have more inspections. 

* To mitigate the influence of the varying inspection efforts, we used the number of inspection per hour as the metric to inform the total traffic to a lake, adjusting by the number of access points of a lake. 

	* :math:`\frac{\#\_inspections} {inspection\_hours} \cdot \#\_access\_points`

* Only inspections in 2017 had records of both the number of inspections and inspections hours. Therefore, the number of lakes used for prediction was fewer than the number of inspected lakes in the inspection survey. 
	
	* A total of 462 lakes had both the number of inspections and the total inspection hours. 
	* 7 out of the 462 lakes were regarded as outliers (> 5 standard deviation of the inspections per hour).

		.. list-table:: Outlier lakes among the 462 inspected lakes
			:widths: 7 12 12 12 
			:header-rows: 1

			* - DOW #
			  - Lake name
			  - Inspection hours (2017)
			  - # of inspections (2017)
			* - 1006200
			  - Big Sandy
			  - 49
			  - 1017
			* - 1015900
			  - Farm Island
			  - 27
			  - 812
			* - 1020400
			  - Round
			  - 8
			  - 235
			* - 1020900 
			  - Cedar
			  - 55
			  - 572
			* - 31085300 
			  - Little Sand
			  - 1
			  - 12
			* - 58014200 
			  - Pokegama
			  - 42
			  - 725
			* - 71008200 
			  - Big
			  - 56
			  - 731

	* 276 inspected lakes did not have the record of total inspection hours. 

* We used the random forest model to predict the total traffic (inspection per hour) on the uninspected lakes and the inspected lakes without the information of total inspection hours. 
	
	* The model included 455 lakes (the 7 outlier lakes were excluded from the random forest model). 

* For the 455 inspected lakes, we used the original number of inspections per inspection hour from the observed data. 
	
	* We predicted the total traffic of the rest of the inspected lakes (including lakes without records of inspection hours and outlier lakes). 
	* We also predicted the total traffic of the uninspected lakes. 


----------------------------------------------------------------
Reallocation of the outgoing boater movements
----------------------------------------------------------------

* After obtaining the total traffic (# of inspection per inspection hour) of each inpsected lakes, we rescaled the number of total traffic to annual scale, and re-allocated the number boaters based on the observed proportion of outgoing boaters from each inspected lake. 

	* :math:`Annaul\ Total\ Traffic = Inspection\ Per\ Hour \cdot 12\ hours \cdot 178\ days`
		
		* The total inspection days in a year was based on the difference between the min and max inspection date in 2017. 
		* We assumed a 12-hour boating activities per day in a fishing season. 

* We calculated the distribution of outgoing boater movements to other lakes and the proportion of boaters remaining on the same lake for each inspected lakes. 
* We then multipled the annual total traffic by the distribution to obtain the estimated total number of boaters from the inspected lake to another lake and the estimated total number of boaters remaining on the same lake. 
* The boater movement network estimated using this process was regarded as the data in the predictive model. 


